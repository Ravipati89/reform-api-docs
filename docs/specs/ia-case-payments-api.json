{"swagger":"2.0","info":{"description":"Api Documentation","version":"1.0","title":"Api Documentation","termsOfService":"urn:tos","contact":{},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}},"host":"localhost","basePath":"/","tags":[{"name":"Update payment status controller","description":"Update Payment Status Controller"},{"name":"pre-submit-callback-controller","description":"Pre Submit Callback Controller"},{"name":"welcome-controller","description":"Welcome Controller"}],"paths":{"/":{"get":{"tags":["welcome-controller"],"summary":"Welcome message for the Immigration & Asylum Case Payments Service","operationId":"welcomeUsingGET","produces":["*/*"],"parameters":[{"name":"Authorization","in":"header","description":"User authorization header","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"Service authorization header","required":true,"type":"string"}],"responses":{"200":{"description":"Welcome message","schema":{"type":"string"}}},"deprecated":false}},"/asylum/ccdAboutToStart":{"post":{"tags":["pre-submit-callback-controller"],"summary":"Handles 'AboutToStartEvent' callbacks from CCD or delegated calls from IA Case API","operationId":"ccdAboutToStartUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"User authorization header","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"Service authorization header","required":true,"type":"string"},{"in":"body","name":"callback","description":"Asylum case data","required":true,"schema":{"$ref":"#/definitions/Callback«AsylumCase»"}}],"responses":{"200":{"description":"Transformed Asylum case data, with any identified error or warning messages","schema":{"$ref":"#/definitions/PreSubmitCallbackResponse"}},"400":{"description":"Bad Request"},"401":{"description":"An error occurred while attempting to decode the Jwt: Invalid token"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}},"security":[{"Authorization":[]},{"ServiceAuthorization":[]}],"deprecated":false}},"/asylum/ccdAboutToSubmit":{"post":{"tags":["pre-submit-callback-controller"],"summary":"Handles 'AboutToSubmitEvent' callbacks from CCD","operationId":"ccdAboutToSubmitUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"User authorization header","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"Service authorization header","required":true,"type":"string"},{"in":"body","name":"callback","description":"Asylum case data","required":true,"schema":{"$ref":"#/definitions/Callback«AsylumCase»"}}],"responses":{"200":{"description":"Transformed Asylum case data, with any identified error or warning messages","schema":{"$ref":"#/definitions/PreSubmitCallbackResponse"}},"400":{"description":"Bad Request"},"401":{"description":"An error occurred while attempting to decode the Jwt: Invalid token"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}},"security":[{"Authorization":[]},{"ServiceAuthorization":[]}],"deprecated":false}},"/payment-updates":{"put":{"tags":["Update payment status controller"],"summary":"Update payment status","description":"Update payment status","operationId":"updatePaymentStatusUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"User authorization header","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"Service authorization header","required":true,"type":"string"},{"in":"body","name":"paymentDto","description":"paymentDto","required":true,"schema":{"$ref":"#/definitions/PaymentDto"}}],"responses":{"200":{"description":"Updated payment status successfully","schema":{"$ref":"#/definitions/SubmitEventDetails"}},"400":{"description":"Bad request"},"500":{"description":"Internal server error"}},"deprecated":false}}},"definitions":{"AsylumCase":{"type":"object","title":"AsylumCase","additionalProperties":{"type":"object"}},"Callback«AsylumCase»":{"type":"object","properties":{"case_details":{"$ref":"#/definitions/CaseDetails«AsylumCase»"},"case_details_before":{"$ref":"#/definitions/Optional«CaseDetails«AsylumCase»»"},"event_id":{"type":"string","enum":["startAppeal","editAppeal","paymentAppeal","submitAppeal","payAndSubmitAppeal","payForAppeal","recordRemissionDecision","updatePaymentStatus","unknown"]}},"title":"Callback«AsylumCase»"},"CaseData":{"type":"object","title":"CaseData"},"CaseDetails«AsylumCase»":{"type":"object","properties":{"case_data":{"type":"object","additionalProperties":{"type":"object"}},"id":{"type":"integer","format":"int64"},"jurisdiction":{"type":"string"},"state":{"type":"string","enum":["appealStarted","appealSubmitted","unknown"]}},"title":"CaseDetails«AsylumCase»"},"FeeDto":{"type":"object","properties":{"calculated_amount":{"type":"number"},"ccd_case_number":{"type":"string"},"code":{"type":"string"},"memo_line":{"type":"string"},"reference":{"type":"string"},"version":{"type":"string"},"volume":{"type":"integer","format":"int32"}},"title":"FeeDto"},"LinkDto":{"type":"object","properties":{"href":{"type":"string"},"method":{"type":"string"}},"title":"LinkDto"},"LinksDto":{"type":"object","properties":{"cancel":{"$ref":"#/definitions/LinkDto"},"next_url":{"$ref":"#/definitions/LinkDto"},"self":{"$ref":"#/definitions/LinkDto"}},"title":"LinksDto"},"Optional«CaseDetails«AsylumCase»»":{"type":"object","properties":{"empty":{"type":"boolean"},"present":{"type":"boolean"}},"title":"Optional«CaseDetails«AsylumCase»»"},"PaymentDto":{"type":"object","properties":{"_links":{"$ref":"#/definitions/LinksDto"},"amount":{"type":"number"},"ccd_case_number":{"type":"string"},"channel":{"type":"string"},"currency":{"type":"string"},"date_created":{"type":"string","example":"yyyy-MM-dd'T'HH:mm:ss.SSSZ"},"date_updated":{"type":"string","example":"yyyy-MM-dd'T'HH:mm:ss.SSSZ"},"description":{"type":"string"},"external_provider":{"type":"string"},"external_reference":{"type":"string"},"fees":{"type":"array","items":{"$ref":"#/definitions/FeeDto"}},"id":{"type":"string"},"method":{"type":"string"},"reference":{"type":"string"},"service_name":{"type":"string"},"status":{"type":"string"}},"title":"PaymentDto"},"PreSubmitCallbackResponse":{"type":"object","properties":{"data":{"$ref":"#/definitions/CaseData"},"errors":{"type":"array","items":{"type":"string"}}},"title":"PreSubmitCallbackResponse"},"PreSubmitCallbackResponse«AsylumCase»":{"type":"object","properties":{"data":{"type":"object","additionalProperties":{"type":"object"}},"errors":{"type":"array","items":{"type":"string"}}},"title":"PreSubmitCallbackResponse«AsylumCase»"},"SubmitEventDetails":{"type":"object","properties":{"callback_response_status":{"type":"string"},"callback_response_status_code":{"type":"integer","format":"int32"},"data":{"type":"object"},"id":{"type":"integer","format":"int64"},"jurisdiction":{"type":"string"},"state":{"type":"string","enum":["appealStarted","appealSubmitted","unknown"]}},"title":"SubmitEventDetails"}}}
